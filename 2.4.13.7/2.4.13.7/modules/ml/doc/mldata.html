<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33108845-1']);
  _gaq.push(['_setDomainName', 'opencv.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MLData &mdash; OpenCV 2.4.13.7 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.4.13.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="OpenCV 2.4.13.7 documentation" href="../../../index.html" />
    <link rel="up" title="ml. Machine Learning" href="ml.html" />
    <link rel="next" title="flann. Clustering and Search in Multi-Dimensional Spaces" href="../../flann/doc/flann.html" />
    <link rel="prev" title="Neural Networks" href="neural_networks.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../flann/doc/flann.html" title="flann. Clustering and Search in Multi-Dimensional Spaces"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="neural_networks.html" title="Neural Networks"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">OpenCV 2.4.13.7 documentation</a> &raquo;</li>
          <li><a href="../../refman.html" >OpenCV API Reference</a> &raquo;</li>
          <li><a href="ml.html" accesskey="U">ml. Machine Learning</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mldata">
<h1>MLData<a class="headerlink" href="#mldata" title="Permalink to this headline">¶</a></h1>
<p>For the machine learning algorithms, the data set is often stored in a file of the <code class="docutils literal"><span class="pre">.csv</span></code>-like format. The file contains a table of predictor and response values where each row of the table corresponds to a sample. Missing values are supported. The UC Irvine Machine Learning Repository (<a class="reference external" href="http://archive.ics.uci.edu/ml/">http://archive.ics.uci.edu/ml/</a>) provides many data sets stored in such a format to the machine learning community. The class <code class="docutils literal"><span class="pre">MLData</span></code> is implemented to easily load the data for training one of the OpenCV machine learning algorithms. For float values, only the  <code class="docutils literal"><span class="pre">'.'</span></code> separator is supported.</p>
<div class="section" id="cvmldata">
<h2>CvMLData<a class="headerlink" href="#cvmldata" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CvMLData">
<em class="property">class </em><code class="descname">CvMLData</code><a class="headerlink" href="#CvMLData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Class for loading the data from a <code class="docutils literal"><span class="pre">.csv</span></code> file.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">class</span> <span class="nc">CV_EXPORTS</span> <span class="n">CvMLData</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">CvMLData</span><span class="p">();</span>
    <span class="k">virtual</span> <span class="o">~</span><span class="n">CvMLData</span><span class="p">();</span>

    <span class="kt">int</span> <span class="nf">read_csv</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">filename</span><span class="p">);</span>

    <span class="k">const</span> <span class="n">CvMat</span><span class="o">*</span> <span class="nf">get_values</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">CvMat</span><span class="o">*</span> <span class="nf">get_responses</span><span class="p">();</span>
    <span class="k">const</span> <span class="n">CvMat</span><span class="o">*</span> <span class="nf">get_missing</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">void</span> <span class="nf">set_response_idx</span><span class="p">(</span> <span class="kt">int</span> <span class="n">idx</span> <span class="p">);</span>
    <span class="kt">int</span> <span class="nf">get_response_idx</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>


    <span class="kt">void</span> <span class="nf">set_train_test_split</span><span class="p">(</span> <span class="k">const</span> <span class="n">CvTrainTestSplit</span> <span class="o">*</span> <span class="n">spl</span><span class="p">);</span>
    <span class="k">const</span> <span class="n">CvMat</span><span class="o">*</span> <span class="nf">get_train_sample_idx</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">CvMat</span><span class="o">*</span> <span class="nf">get_test_sample_idx</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
    <span class="kt">void</span> <span class="nf">mix_train_and_test_idx</span><span class="p">();</span>

    <span class="k">const</span> <span class="n">CvMat</span><span class="o">*</span> <span class="nf">get_var_idx</span><span class="p">();</span>
    <span class="kt">void</span> <span class="nf">change_var_idx</span><span class="p">(</span> <span class="kt">int</span> <span class="n">vi</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">state</span> <span class="p">);</span>

    <span class="k">const</span> <span class="n">CvMat</span><span class="o">*</span> <span class="nf">get_var_types</span><span class="p">();</span>
    <span class="kt">void</span> <span class="nf">set_var_types</span><span class="p">(</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span> <span class="p">);</span>

    <span class="kt">int</span> <span class="nf">get_var_type</span><span class="p">(</span> <span class="kt">int</span> <span class="n">var_idx</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span>
    <span class="kt">void</span> <span class="nf">change_var_type</span><span class="p">(</span> <span class="kt">int</span> <span class="n">var_idx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">type</span><span class="p">);</span>

    <span class="kt">void</span> <span class="nf">set_delimiter</span><span class="p">(</span> <span class="kt">char</span> <span class="n">ch</span> <span class="p">);</span>
    <span class="kt">char</span> <span class="nf">get_delimiter</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">void</span> <span class="nf">set_miss_ch</span><span class="p">(</span> <span class="kt">char</span> <span class="n">ch</span> <span class="p">);</span>
    <span class="kt">char</span> <span class="nf">get_miss_ch</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">get_class_labels_map</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="p">...</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="cvmldata-read-csv">
<h2>CvMLData::read_csv<a class="headerlink" href="#cvmldata-read-csv" title="Permalink to this headline">¶</a></h2>
<p>Reads the data set from a <code class="docutils literal"><span class="pre">.csv</span></code>-like <code class="docutils literal"><span class="pre">filename</span></code> file and stores all read values in a matrix.</p>
<dl class="function">
<dt id="int CvMLData::read_csv(const char* filename)">
<strong>C++:</strong><code class="descname"> </code>int <code class="descclassname">CvMLData::</code><code class="descname">read_csv</code><span class="sig-paren">(</span>const char* <strong>filename</strong><span class="sig-paren">)</span><a class="headerlink" href="#int CvMLData::read_csv(const char* filename)" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; The input file name</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>While reading the data, the method tries to define the type of variables (predictors and responses): ordered or categorical. If a value of the variable is not numerical (except for the label for a missing value), the type of the variable is set to <code class="docutils literal"><span class="pre">CV_VAR_CATEGORICAL</span></code>. If all existing values of the variable are numerical, the type of the variable is set to <code class="docutils literal"><span class="pre">CV_VAR_ORDERED</span></code>. So, the default definition of variables types works correctly for all cases except the case of a categorical variable with numerical class labels. In this case, the type <code class="docutils literal"><span class="pre">CV_VAR_ORDERED</span></code> is set. You should change the type to <code class="docutils literal"><span class="pre">CV_VAR_CATEGORICAL</span></code> using the method <a class="reference internal" href="#void CvMLData::change_var_type(int var_idx, int type)" title="void CvMLData::change_var_type(int var_idx, int type)"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::change_var_type()</span></code></a>. For categorical variables, a common map is built to convert a string class label to the numerical class label. Use <a class="reference internal" href="#const std::map&lt;std::string, int&gt;&amp; CvMLData::get_class_labels_map() const" title="const std::map&lt;std::string, int&gt;&amp; CvMLData::get_class_labels_map() const"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::get_class_labels_map()</span></code></a> to obtain this map.</p>
<p>Also, when reading the data, the method constructs the mask of missing values. For example, values are equal to <cite>&#8216;?&#8217;</cite>.</p>
</div>
<div class="section" id="cvmldata-get-values">
<h2>CvMLData::get_values<a class="headerlink" href="#cvmldata-get-values" title="Permalink to this headline">¶</a></h2>
<p>Returns a pointer to the matrix of predictors and response values</p>
<dl class="function">
<dt id="const CvMat* CvMLData::get_values() const">
<strong>C++:</strong><code class="descname"> </code>const CvMat* <code class="descclassname">CvMLData::</code><code class="descname">get_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#const CvMat* CvMLData::get_values() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns a pointer to the matrix of predictor and response <code class="docutils literal"><span class="pre">values</span></code>  or <code class="docutils literal"><span class="pre">0</span></code> if the data has not been loaded from the file yet.</p>
<p>The row count of this matrix equals the sample count. The column count equals predictors <code class="docutils literal"><span class="pre">+</span> <span class="pre">1</span></code> for the response (if exists) count. This means that each row of the matrix contains values of one sample predictor and response. The matrix type is <code class="docutils literal"><span class="pre">CV_32FC1</span></code>.</p>
</div>
<div class="section" id="cvmldata-get-responses">
<h2>CvMLData::get_responses<a class="headerlink" href="#cvmldata-get-responses" title="Permalink to this headline">¶</a></h2>
<p>Returns a pointer to the matrix of response values</p>
<dl class="function">
<dt id="const CvMat* CvMLData::get_responses()">
<strong>C++:</strong><code class="descname"> </code>const CvMat* <code class="descclassname">CvMLData::</code><code class="descname">get_responses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#const CvMat* CvMLData::get_responses()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns a pointer to the matrix of response values or throws an exception if the data has not been loaded from the file yet.</p>
<p>This is a single-column matrix of the type <code class="docutils literal"><span class="pre">CV_32FC1</span></code>. Its row count is equal to the sample count, one column and .</p>
</div>
<div class="section" id="cvmldata-get-missing">
<h2>CvMLData::get_missing<a class="headerlink" href="#cvmldata-get-missing" title="Permalink to this headline">¶</a></h2>
<p>Returns a pointer to the mask matrix of missing values</p>
<dl class="function">
<dt id="const CvMat* CvMLData::get_missing() const">
<strong>C++:</strong><code class="descname"> </code>const CvMat* <code class="descclassname">CvMLData::</code><code class="descname">get_missing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#const CvMat* CvMLData::get_missing() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns a pointer to the mask matrix of missing values or throws an exception if the data has not been loaded from the file yet.</p>
<p>This matrix has the same size as the  <code class="docutils literal"><span class="pre">values</span></code> matrix (see <a class="reference internal" href="#const CvMat* CvMLData::get_values() const" title="const CvMat* CvMLData::get_values() const"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::get_values()</span></code></a>) and the type <code class="docutils literal"><span class="pre">CV_8UC1</span></code>.</p>
</div>
<div class="section" id="cvmldata-set-response-idx">
<h2>CvMLData::set_response_idx<a class="headerlink" href="#cvmldata-set-response-idx" title="Permalink to this headline">¶</a></h2>
<p>Specifies index of response column in the data matrix</p>
<dl class="function">
<dt id="void CvMLData::set_response_idx(int idx)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">set_response_idx</code><span class="sig-paren">(</span>int <strong>idx</strong><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::set_response_idx(int idx)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method sets the index of a response column in the <code class="docutils literal"><span class="pre">values</span></code> matrix (see <a class="reference internal" href="#const CvMat* CvMLData::get_values() const" title="const CvMat* CvMLData::get_values() const"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::get_values()</span></code></a>) or throws an exception if the data has not been loaded from the file yet.</p>
<p>The old response columns become predictors. If <code class="docutils literal"><span class="pre">idx</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>, there is no response.</p>
</div>
<div class="section" id="cvmldata-get-response-idx">
<h2>CvMLData::get_response_idx<a class="headerlink" href="#cvmldata-get-response-idx" title="Permalink to this headline">¶</a></h2>
<p>Returns index of the response column in the loaded data matrix</p>
<dl class="function">
<dt id="int CvMLData::get_response_idx() const">
<strong>C++:</strong><code class="descname"> </code>int <code class="descclassname">CvMLData::</code><code class="descname">get_response_idx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#int CvMLData::get_response_idx() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns the index of a response column in the <code class="docutils literal"><span class="pre">values</span></code> matrix (see <a class="reference internal" href="#const CvMat* CvMLData::get_values() const" title="const CvMat* CvMLData::get_values() const"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::get_values()</span></code></a>) or throws an exception if the data has not been loaded from the file yet.</p>
<p>If <code class="docutils literal"><span class="pre">idx</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>, there is no response.</p>
</div>
<div class="section" id="cvmldata-set-train-test-split">
<h2>CvMLData::set_train_test_split<a class="headerlink" href="#cvmldata-set-train-test-split" title="Permalink to this headline">¶</a></h2>
<p>Divides the read data set into two disjoint training and test subsets.</p>
<dl class="function">
<dt id="void CvMLData::set_train_test_split(const CvTrainTestSplit * spl)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">set_train_test_split</code><span class="sig-paren">(</span>const CvTrainTestSplit* <strong>spl</strong><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::set_train_test_split(const CvTrainTestSplit * spl)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>This method sets parameters for such a split using <code class="docutils literal"><span class="pre">spl</span></code> (see <code class="xref ocv ocv-class docutils literal"><span class="pre">CvTrainTestSplit</span></code>) or throws an exception if the data has not been loaded from the file yet.</p>
</div>
<div class="section" id="cvmldata-get-train-sample-idx">
<h2>CvMLData::get_train_sample_idx<a class="headerlink" href="#cvmldata-get-train-sample-idx" title="Permalink to this headline">¶</a></h2>
<p>Returns the matrix of sample indices for a training subset</p>
<dl class="function">
<dt id="const CvMat* CvMLData::get_train_sample_idx() const">
<strong>C++:</strong><code class="descname"> </code>const CvMat* <code class="descclassname">CvMLData::</code><code class="descname">get_train_sample_idx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#const CvMat* CvMLData::get_train_sample_idx() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns the matrix of sample indices for a training subset. This is a single-row  matrix of the type <code class="docutils literal"><span class="pre">CV_32SC1</span></code>. If data split is not set, the method returns <code class="docutils literal"><span class="pre">0</span></code>. If the data has not been loaded from the file yet, an exception is thrown.</p>
</div>
<div class="section" id="cvmldata-get-test-sample-idx">
<h2>CvMLData::get_test_sample_idx<a class="headerlink" href="#cvmldata-get-test-sample-idx" title="Permalink to this headline">¶</a></h2>
<p>Returns the matrix of sample indices for a testing subset</p>
<dl class="function">
<dt id="const CvMat* CvMLData::get_test_sample_idx() const">
<strong>C++:</strong><code class="descname"> </code>const CvMat* <code class="descclassname">CvMLData::</code><code class="descname">get_test_sample_idx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#const CvMat* CvMLData::get_test_sample_idx() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="cvmldata-mix-train-and-test-idx">
<h2>CvMLData::mix_train_and_test_idx<a class="headerlink" href="#cvmldata-mix-train-and-test-idx" title="Permalink to this headline">¶</a></h2>
<p>Mixes the indices of training and test samples</p>
<dl class="function">
<dt id="void CvMLData::mix_train_and_test_idx()">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">mix_train_and_test_idx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::mix_train_and_test_idx()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method shuffles the indices of training and test samples preserving sizes of training and test subsets if the data split is set by <a class="reference internal" href="#const CvMat* CvMLData::get_values() const" title="const CvMat* CvMLData::get_values() const"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::get_values()</span></code></a>. If the data has not been loaded from the file yet, an exception is thrown.</p>
</div>
<div class="section" id="cvmldata-get-var-idx">
<h2>CvMLData::get_var_idx<a class="headerlink" href="#cvmldata-get-var-idx" title="Permalink to this headline">¶</a></h2>
<p>Returns the indices of the active variables in the data matrix</p>
<dl class="function">
<dt id="const CvMat* CvMLData::get_var_idx()">
<strong>C++:</strong><code class="descname"> </code>const CvMat* <code class="descclassname">CvMLData::</code><code class="descname">get_var_idx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#const CvMat* CvMLData::get_var_idx()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns the indices of variables (columns) used in the <code class="docutils literal"><span class="pre">values</span></code> matrix (see <a class="reference internal" href="#const CvMat* CvMLData::get_values() const" title="const CvMat* CvMLData::get_values() const"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::get_values()</span></code></a>).</p>
<p>It returns <code class="docutils literal"><span class="pre">0</span></code> if the used subset is not set. It throws an exception if the data has not been loaded from the file yet. Returned matrix is a single-row matrix of the type <code class="docutils literal"><span class="pre">CV_32SC1</span></code>. Its column count is equal to the size of the used variable subset.</p>
</div>
<div class="section" id="cvmldata-change-var-idx">
<h2>CvMLData::change_var_idx<a class="headerlink" href="#cvmldata-change-var-idx" title="Permalink to this headline">¶</a></h2>
<p>Enables or disables particular variable in the loaded data</p>
<dl class="function">
<dt id="void CvMLData::change_var_idx(int vi, bool state)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">change_var_idx</code><span class="sig-paren">(</span>int <strong>vi</strong>, bool <strong>state</strong><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::change_var_idx(int vi, bool state)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>By default, after reading the data set all variables in the <code class="docutils literal"><span class="pre">values</span></code> matrix (see <a class="reference internal" href="#const CvMat* CvMLData::get_values() const" title="const CvMat* CvMLData::get_values() const"><code class="xref ocv ocv-func docutils literal"><span class="pre">CvMLData::get_values()</span></code></a>) are used. But you may want to use only a subset of variables and include/exclude (depending on <code class="docutils literal"><span class="pre">state</span></code> value) a variable with the <code class="docutils literal"><span class="pre">vi</span></code> index from the used subset. If the data has not been loaded from the file yet, an exception is thrown.</p>
</div>
<div class="section" id="cvmldata-get-var-types">
<h2>CvMLData::get_var_types<a class="headerlink" href="#cvmldata-get-var-types" title="Permalink to this headline">¶</a></h2>
<p>Returns a matrix of the variable types.</p>
<dl class="function">
<dt id="const CvMat* CvMLData::get_var_types()">
<strong>C++:</strong><code class="descname"> </code>const CvMat* <code class="descclassname">CvMLData::</code><code class="descname">get_var_types</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#const CvMat* CvMLData::get_var_types()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The function returns a single-row matrix of the type <code class="docutils literal"><span class="pre">CV_8UC1</span></code>, where each element is set to either <code class="docutils literal"><span class="pre">CV_VAR_ORDERED</span></code> or <code class="docutils literal"><span class="pre">CV_VAR_CATEGORICAL</span></code>. The number of columns is equal to the number of variables. If data has not been loaded from file yet an exception is thrown.</p>
</div>
<div class="section" id="cvmldata-set-var-types">
<h2>CvMLData::set_var_types<a class="headerlink" href="#cvmldata-set-var-types" title="Permalink to this headline">¶</a></h2>
<p>Sets the variables types in the loaded data.</p>
<dl class="function">
<dt id="void CvMLData::set_var_types(const char* str)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">set_var_types</code><span class="sig-paren">(</span>const char* <strong>str</strong><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::set_var_types(const char* str)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>In the string, a variable type is followed by a list of variables indices. For example: <code class="docutils literal"><span class="pre">&quot;ord[0-17],cat[18]&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;ord[0,2,4,10-12],</span> <span class="pre">cat[1,3,5-9,13,14]&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;cat&quot;</span></code> (all variables are categorical), <code class="docutils literal"><span class="pre">&quot;ord&quot;</span></code> (all variables are ordered).</p>
</div>
<div class="section" id="cvmldata-get-var-type">
<h2>CvMLData::get_var_type<a class="headerlink" href="#cvmldata-get-var-type" title="Permalink to this headline">¶</a></h2>
<p>Returns type of the specified variable</p>
<dl class="function">
<dt id="int CvMLData::get_var_type(int var_idx) const">
<strong>C++:</strong><code class="descname"> </code>int <code class="descclassname">CvMLData::</code><code class="descname">get_var_type</code><span class="sig-paren">(</span>int <strong>var_idx</strong><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#int CvMLData::get_var_type(int var_idx) const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns the type of a variable by the index <code class="docutils literal"><span class="pre">var_idx</span></code> ( <code class="docutils literal"><span class="pre">CV_VAR_ORDERED</span></code> or <code class="docutils literal"><span class="pre">CV_VAR_CATEGORICAL</span></code>).</p>
</div>
<div class="section" id="cvmldata-change-var-type">
<h2>CvMLData::change_var_type<a class="headerlink" href="#cvmldata-change-var-type" title="Permalink to this headline">¶</a></h2>
<p>Changes type of the specified variable</p>
<dl class="function">
<dt id="void CvMLData::change_var_type(int var_idx, int type)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">change_var_type</code><span class="sig-paren">(</span>int <strong>var_idx</strong>, int <strong>type</strong><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::change_var_type(int var_idx, int type)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method changes type of variable with index <code class="docutils literal"><span class="pre">var_idx</span></code> from existing type to <code class="docutils literal"><span class="pre">type</span></code> ( <code class="docutils literal"><span class="pre">CV_VAR_ORDERED</span></code> or <code class="docutils literal"><span class="pre">CV_VAR_CATEGORICAL</span></code>).</p>
</div>
<div class="section" id="cvmldata-set-delimiter">
<h2>CvMLData::set_delimiter<a class="headerlink" href="#cvmldata-set-delimiter" title="Permalink to this headline">¶</a></h2>
<p>Sets the delimiter in the file used to separate input numbers</p>
<dl class="function">
<dt id="void CvMLData::set_delimiter(char ch)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">set_delimiter</code><span class="sig-paren">(</span>char <strong>ch</strong><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::set_delimiter(char ch)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method sets the delimiter for variables in a file. For example: <code class="docutils literal"><span class="pre">','</span></code> (default), <code class="docutils literal"><span class="pre">';'</span></code>, <code class="docutils literal"><span class="pre">'</span> <span class="pre">'</span></code> (space), or other characters. The floating-point separator <code class="docutils literal"><span class="pre">'.'</span></code> is not allowed.</p>
</div>
<div class="section" id="cvmldata-get-delimiter">
<h2>CvMLData::get_delimiter<a class="headerlink" href="#cvmldata-get-delimiter" title="Permalink to this headline">¶</a></h2>
<p>Returns the currently used delimiter character.</p>
<dl class="function">
<dt id="char CvMLData::get_delimiter() const">
<strong>C++:</strong><code class="descname"> </code>char <code class="descclassname">CvMLData::</code><code class="descname">get_delimiter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#char CvMLData::get_delimiter() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="cvmldata-set-miss-ch">
<h2>CvMLData::set_miss_ch<a class="headerlink" href="#cvmldata-set-miss-ch" title="Permalink to this headline">¶</a></h2>
<p>Sets the character used to specify missing values</p>
<dl class="function">
<dt id="void CvMLData::set_miss_ch(char ch)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">CvMLData::</code><code class="descname">set_miss_ch</code><span class="sig-paren">(</span>char <strong>ch</strong><span class="sig-paren">)</span><a class="headerlink" href="#void CvMLData::set_miss_ch(char ch)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method sets the character used to specify missing values. For example: <code class="docutils literal"><span class="pre">'?'</span></code> (default), <code class="docutils literal"><span class="pre">'-'</span></code>. The floating-point separator <code class="docutils literal"><span class="pre">'.'</span></code> is not allowed.</p>
</div>
<div class="section" id="cvmldata-get-miss-ch">
<h2>CvMLData::get_miss_ch<a class="headerlink" href="#cvmldata-get-miss-ch" title="Permalink to this headline">¶</a></h2>
<p>Returns the currently used missing value character.</p>
<dl class="function">
<dt id="char CvMLData::get_miss_ch() const">
<strong>C++:</strong><code class="descname"> </code>char <code class="descclassname">CvMLData::</code><code class="descname">get_miss_ch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#char CvMLData::get_miss_ch() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="cvmldata-get-class-labels-map">
<h2>CvMLData::get_class_labels_map<a class="headerlink" href="#cvmldata-get-class-labels-map" title="Permalink to this headline">¶</a></h2>
<p>Returns a map that converts strings to labels.</p>
<dl class="function">
<dt id="const std::map&lt;std::string, int&gt;&amp; CvMLData::get_class_labels_map() const">
<strong>C++:</strong><code class="descname"> </code>const std::map&lt;std::string, int&gt;&amp; <code class="descclassname">CvMLData::</code><code class="descname">get_class_labels_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><code class="descclassname"> const</code><a class="headerlink" href="#const std::map<std::string, int>& CvMLData::get_class_labels_map() const" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The method returns a map that converts string class labels to the numerical class labels. It can be used to get an original class label as in a file.</p>
</div>
<div class="section" id="cvtraintestsplit">
<h2>CvTrainTestSplit<a class="headerlink" href="#cvtraintestsplit" title="Permalink to this headline">¶</a></h2>
<dl class="struct">
<dt id="CvTrainTestSplit">
<em class="property">struct </em><code class="descname">CvTrainTestSplit</code><a class="headerlink" href="#CvTrainTestSplit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Structure setting the split of a data set read by <a class="reference internal" href="#CvMLData" title="class CvMLData"><code class="xref ocv ocv-class docutils literal"><span class="pre">CvMLData</span></code></a>.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">struct</span> <span class="n">CvTrainTestSplit</span>
<span class="p">{</span>
    <span class="n">CvTrainTestSplit</span><span class="p">();</span>
    <span class="n">CvTrainTestSplit</span><span class="p">(</span> <span class="kt">int</span> <span class="n">train_sample_count</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">mix</span> <span class="o">=</span> <span class="nb">true</span><span class="p">);</span>
    <span class="n">CvTrainTestSplit</span><span class="p">(</span> <span class="kt">float</span> <span class="n">train_sample_portion</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">mix</span> <span class="o">=</span> <span class="nb">true</span><span class="p">);</span>

    <span class="k">union</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">count</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">portion</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">train_sample_part</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">train_sample_part_mode</span><span class="p">;</span>

    <span class="kt">bool</span> <span class="n">mix</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>There are two ways to construct a split:</p>
<ul class="simple">
<li>Set the training sample count (subset size) <code class="docutils literal"><span class="pre">train_sample_count</span></code>. Other existing samples are located in a test subset.</li>
<li>Set a training sample portion in <code class="docutils literal"><span class="pre">[0,..1]</span></code>. The flag <code class="docutils literal"><span class="pre">mix</span></code> is used to mix training and test samples indices when the split is set. Otherwise, the data set is split in the storing order: the first part of samples of a given size is a training subset, the second part is a test subset.</li>
</ul>
</div>
</div>


          </div>
          <div class="feedback">
              <h2>Help and Feedback</h2>
              You did not find what you were looking for?
              <ul>
                  
                  
                  
                  <li>Ask a question on the <a href="http://answers.opencv.org">Q&A forum</a>.</li>
                  <li>If you think something is missing or wrong in the documentation,
                  please file a <a href="http://code.opencv.org">bug report</a>.</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/opencv-logo-white.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
      <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
      </p>
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MLData</a><ul>
<li><a class="reference internal" href="#cvmldata">CvMLData</a></li>
<li><a class="reference internal" href="#cvmldata-read-csv">CvMLData::read_csv</a></li>
<li><a class="reference internal" href="#cvmldata-get-values">CvMLData::get_values</a></li>
<li><a class="reference internal" href="#cvmldata-get-responses">CvMLData::get_responses</a></li>
<li><a class="reference internal" href="#cvmldata-get-missing">CvMLData::get_missing</a></li>
<li><a class="reference internal" href="#cvmldata-set-response-idx">CvMLData::set_response_idx</a></li>
<li><a class="reference internal" href="#cvmldata-get-response-idx">CvMLData::get_response_idx</a></li>
<li><a class="reference internal" href="#cvmldata-set-train-test-split">CvMLData::set_train_test_split</a></li>
<li><a class="reference internal" href="#cvmldata-get-train-sample-idx">CvMLData::get_train_sample_idx</a></li>
<li><a class="reference internal" href="#cvmldata-get-test-sample-idx">CvMLData::get_test_sample_idx</a></li>
<li><a class="reference internal" href="#cvmldata-mix-train-and-test-idx">CvMLData::mix_train_and_test_idx</a></li>
<li><a class="reference internal" href="#cvmldata-get-var-idx">CvMLData::get_var_idx</a></li>
<li><a class="reference internal" href="#cvmldata-change-var-idx">CvMLData::change_var_idx</a></li>
<li><a class="reference internal" href="#cvmldata-get-var-types">CvMLData::get_var_types</a></li>
<li><a class="reference internal" href="#cvmldata-set-var-types">CvMLData::set_var_types</a></li>
<li><a class="reference internal" href="#cvmldata-get-var-type">CvMLData::get_var_type</a></li>
<li><a class="reference internal" href="#cvmldata-change-var-type">CvMLData::change_var_type</a></li>
<li><a class="reference internal" href="#cvmldata-set-delimiter">CvMLData::set_delimiter</a></li>
<li><a class="reference internal" href="#cvmldata-get-delimiter">CvMLData::get_delimiter</a></li>
<li><a class="reference internal" href="#cvmldata-set-miss-ch">CvMLData::set_miss_ch</a></li>
<li><a class="reference internal" href="#cvmldata-get-miss-ch">CvMLData::get_miss_ch</a></li>
<li><a class="reference internal" href="#cvmldata-get-class-labels-map">CvMLData::get_class_labels_map</a></li>
<li><a class="reference internal" href="#cvtraintestsplit">CvTrainTestSplit</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="neural_networks.html"
                        title="previous chapter">Neural Networks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../flann/doc/flann.html"
                        title="next chapter">flann. Clustering and Search in Multi-Dimensional Spaces</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/modules/ml/doc/mldata.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../flann/doc/flann.html" title="flann. Clustering and Search in Multi-Dimensional Spaces"
             >next</a> |</li>
        <li class="right" >
          <a href="neural_networks.html" title="Neural Networks"
             >previous</a> |</li>
        <li><a href="../../../index.html">OpenCV 2.4.13.7 documentation</a> &raquo;</li>
          <li><a href="../../refman.html" >OpenCV API Reference</a> &raquo;</li>
          <li><a href="ml.html" >ml. Machine Learning</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, opencv dev team.
      Last updated on Jul 12, 2018.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>