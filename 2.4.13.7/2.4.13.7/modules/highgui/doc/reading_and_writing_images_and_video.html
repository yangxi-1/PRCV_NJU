<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33108845-1']);
  _gaq.push(['_setDomainName', 'opencv.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reading and Writing Images and Video &mdash; OpenCV 2.4.13.7 documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.4.13.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="OpenCV 2.4.13.7 documentation" href="../../../index.html" />
    <link rel="up" title="highgui. High-level GUI and Media I/O" href="highgui.html" />
    <link rel="next" title="Qt New Functions" href="qt_new_functions.html" />
    <link rel="prev" title="User Interface" href="user_interface.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="qt_new_functions.html" title="Qt New Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="user_interface.html" title="User Interface"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">OpenCV 2.4.13.7 documentation</a> &raquo;</li>
          <li><a href="../../refman.html" >OpenCV API Reference</a> &raquo;</li>
          <li><a href="highgui.html" accesskey="U">highgui. High-level GUI and Media I/O</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
  
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="reading-and-writing-images-and-video">
<h1>Reading and Writing Images and Video<a class="headerlink" href="#reading-and-writing-images-and-video" title="Permalink to this headline">¶</a></h1>
<div class="section" id="imdecode">
<h2>imdecode<a class="headerlink" href="#imdecode" title="Permalink to this headline">¶</a></h2>
<p>Reads an image from a buffer in memory.</p>
<dl class="function">
<dt id="Mat imdecode(InputArray buf, int flags)">
<strong>C++:</strong><code class="descname"> </code>Mat <code class="descname">imdecode</code><span class="sig-paren">(</span>InputArray <strong>buf</strong>, int <strong>flags</strong><span class="sig-paren">)</span><a class="headerlink" href="#Mat imdecode(InputArray buf, int flags)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Mat imdecode(InputArray buf, int flags, Mat* dst)">
<strong>C++:</strong><code class="descname"> </code>Mat <code class="descname">imdecode</code><span class="sig-paren">(</span>InputArray <strong>buf</strong>, int <strong>flags</strong>, Mat* <strong>dst</strong><span class="sig-paren">)</span><a class="headerlink" href="#Mat imdecode(InputArray buf, int flags, Mat* dst)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="IplImage* cvDecodeImage(const CvMat* buf, int iscolor)">
<strong>C:</strong><code class="descname"> </code>IplImage* <code class="descname">cvDecodeImage</code><span class="sig-paren">(</span>const CvMat* <strong>buf</strong>, int <strong>iscolor</strong>=CV_LOAD_IMAGE_COLOR<span class="sig-paren">)</span><a class="headerlink" href="#IplImage* cvDecodeImage(const CvMat* buf, int iscolor)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="CvMat* cvDecodeImageM(const CvMat* buf, int iscolor)">
<strong>C:</strong><code class="descname"> </code>CvMat* <code class="descname">cvDecodeImageM</code><span class="sig-paren">(</span>const CvMat* <strong>buf</strong>, int <strong>iscolor</strong>=CV_LOAD_IMAGE_COLOR<span class="sig-paren">)</span><a class="headerlink" href="#CvMat* cvDecodeImageM(const CvMat* buf, int iscolor)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.imdecode">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">imdecode</code><span class="sig-paren">(</span>buf, flags<span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.imdecode" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>buf</strong> &#8211; Input array or vector of bytes.</li>
<li><strong>flags</strong> &#8211; The same flags as in <a class="reference internal" href="#Mat imread(const string&amp; filename, int flags)" title="Mat imread(const string&amp; filename, int flags)"><code class="xref ocv ocv-func docutils literal"><span class="pre">imread()</span></code></a> .</li>
<li><strong>dst</strong> &#8211; The optional output placeholder for the decoded matrix. It can save the image reallocations when the function is called repeatedly for images of the same size.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The function reads an image from the specified buffer in the memory.
If the buffer is too short or contains invalid data, the empty matrix/image is returned.</p>
<p>See
<a class="reference internal" href="#Mat imread(const string&amp; filename, int flags)" title="Mat imread(const string&amp; filename, int flags)"><code class="xref ocv ocv-func docutils literal"><span class="pre">imread()</span></code></a> for the list of supported formats and flags description.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the case of color images, the decoded images will have the channels stored in <code class="docutils literal"><span class="pre">B</span> <span class="pre">G</span> <span class="pre">R</span></code> order.</p>
</div>
</div>
<div class="section" id="imencode">
<h2>imencode<a class="headerlink" href="#imencode" title="Permalink to this headline">¶</a></h2>
<p>Encodes an image into a memory buffer.</p>
<dl class="function">
<dt id="bool imencode(const string&amp; ext, InputArray img, vector&lt;uchar&gt;&amp; buf, const vector&lt;int&gt;&amp; params)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descname">imencode</code><span class="sig-paren">(</span>const string&amp; <strong>ext</strong>, InputArray <strong>img</strong>, vector&lt;uchar&gt;&amp; <strong>buf</strong>, const vector&lt;int&gt;&amp; <strong>params</strong>=vector&lt;int&gt;()<span class="sig-paren">)</span><a class="headerlink" href="#bool imencode(const string& ext, InputArray img, vector<uchar>& buf, const vector<int>& params)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="CvMat* cvEncodeImage(const char* ext, const CvArr* image, const int* params)">
<strong>C:</strong><code class="descname"> </code>CvMat* <code class="descname">cvEncodeImage</code><span class="sig-paren">(</span>const char* <strong>ext</strong>, const CvArr* <strong>image</strong>, const int* <strong>params</strong>=0 <span class="sig-paren">)</span><a class="headerlink" href="#CvMat* cvEncodeImage(const char* ext, const CvArr* image, const int* params)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.imencode">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">imencode</code><span class="sig-paren">(</span>ext, img<span class="optional">[</span>, params<span class="optional">]</span><span class="sig-paren">)</span> &rarr; retval, buf<a class="headerlink" href="#cv2.imencode" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ext</strong> &#8211; File extension that defines the output format.</li>
<li><strong>img</strong> &#8211; Image to be written.</li>
<li><strong>buf</strong> &#8211; Output buffer resized to fit the compressed image.</li>
<li><strong>params</strong> &#8211; Format-specific parameters. See  <a class="reference internal" href="#bool imwrite(const string&amp; filename, InputArray img, const vector&lt;int&gt;&amp; params)" title="bool imwrite(const string&amp; filename, InputArray img, const vector&lt;int&gt;&amp; params)"><code class="xref ocv ocv-func docutils literal"><span class="pre">imwrite()</span></code></a> .</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The function compresses the image and stores it in the memory buffer that is resized to fit the result.
See
<a class="reference internal" href="#bool imwrite(const string&amp; filename, InputArray img, const vector&lt;int&gt;&amp; params)" title="bool imwrite(const string&amp; filename, InputArray img, const vector&lt;int&gt;&amp; params)"><code class="xref ocv ocv-func docutils literal"><span class="pre">imwrite()</span></code></a> for the list of supported formats and flags description.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">cvEncodeImage</span></code> returns single-row matrix of type <code class="docutils literal"><span class="pre">CV_8UC1</span></code> that contains encoded image as array of bytes.</p>
</div>
</div>
<div class="section" id="imread">
<h2>imread<a class="headerlink" href="#imread" title="Permalink to this headline">¶</a></h2>
<p>Loads an image from a file.</p>
<dl class="function">
<dt id="Mat imread(const string&amp; filename, int flags)">
<strong>C++:</strong><code class="descname"> </code>Mat <code class="descname">imread</code><span class="sig-paren">(</span>const string&amp; <strong>filename</strong>, int <strong>flags</strong>=1 <span class="sig-paren">)</span><a class="headerlink" href="#Mat imread(const string& filename, int flags)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.imread">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">imread</code><span class="sig-paren">(</span>filename<span class="optional">[</span>, flags<span class="optional">]</span><span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.imread" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="IplImage* cvLoadImage(const char* filename, int iscolor)">
<strong>C:</strong><code class="descname"> </code>IplImage* <code class="descname">cvLoadImage</code><span class="sig-paren">(</span>const char* <strong>filename</strong>, int <strong>iscolor</strong>=CV_LOAD_IMAGE_COLOR <span class="sig-paren">)</span><a class="headerlink" href="#IplImage* cvLoadImage(const char* filename, int iscolor)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="CvMat* cvLoadImageM(const char* filename, int iscolor)">
<strong>C:</strong><code class="descname"> </code>CvMat* <code class="descname">cvLoadImageM</code><span class="sig-paren">(</span>const char* <strong>filename</strong>, int <strong>iscolor</strong>=CV_LOAD_IMAGE_COLOR <span class="sig-paren">)</span><a class="headerlink" href="#CvMat* cvLoadImageM(const char* filename, int iscolor)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.LoadImage">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">LoadImage</code><span class="sig-paren">(</span>filename, iscolor=CV_LOAD_IMAGE_COLOR<span class="sig-paren">)</span> &rarr; None<a class="headerlink" href="#cv.LoadImage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.LoadImageM">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">LoadImageM</code><span class="sig-paren">(</span>filename, iscolor=CV_LOAD_IMAGE_COLOR<span class="sig-paren">)</span> &rarr; None<a class="headerlink" href="#cv.LoadImageM" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; Name of file to be loaded.</li>
<li><strong>flags</strong> &#8211; <p>Flags specifying the color type of a loaded image:</p>
<ul>
<li>CV_LOAD_IMAGE_ANYDEPTH - If set, return 16-bit/32-bit image when the input has the corresponding depth, otherwise convert it to 8-bit.</li>
<li>CV_LOAD_IMAGE_COLOR - If set, always convert image to the color one</li>
<li>CV_LOAD_IMAGE_GRAYSCALE - If set, always convert image to the grayscale one</li>
<li><dl class="first docutils">
<dt><strong>&gt;0</strong>  Return a 3-channel color image.</dt>
<dd><div class="first last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current implementation the alpha channel, if any, is stripped from the output image. Use negative value if you need the alpha channel.</p>
</div>
</dd>
</dl>
</li>
<li><strong>=0</strong>  Return a grayscale image.</li>
<li><strong>&lt;0</strong>  Return the loaded image as is (with alpha channel).</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The function <code class="docutils literal"><span class="pre">imread</span></code> loads an image from the specified file and returns it. If the image cannot be read (because of missing file, improper permissions, unsupported or invalid format), the function returns an empty matrix ( <code class="docutils literal"><span class="pre">Mat::data==NULL</span></code> ). Currently, the following file formats are supported:</p>
<blockquote>
<div><ul class="simple">
<li>Windows bitmaps - <code class="docutils literal"><span class="pre">*.bmp,</span> <span class="pre">*.dib</span></code> (always supported)</li>
<li>JPEG files - <code class="docutils literal"><span class="pre">*.jpeg,</span> <span class="pre">*.jpg,</span> <span class="pre">*.jpe</span></code> (see the <em>Notes</em> section)</li>
<li>JPEG 2000 files - <code class="docutils literal"><span class="pre">*.jp2</span></code> (see the <em>Notes</em> section)</li>
<li>Portable Network Graphics - <code class="docutils literal"><span class="pre">*.png</span></code> (see the <em>Notes</em> section)</li>
<li>Portable image format - <code class="docutils literal"><span class="pre">*.pbm,</span> <span class="pre">*.pgm,</span> <span class="pre">*.ppm</span></code>     (always supported)</li>
<li>Sun rasters - <code class="docutils literal"><span class="pre">*.sr,</span> <span class="pre">*.ras</span></code>     (always supported)</li>
<li>TIFF files - <code class="docutils literal"><span class="pre">*.tiff,</span> <span class="pre">*.tif</span></code> (see the <em>Notes</em> section)</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The function determines the type of an image by the content, not by the file extension.</li>
<li>On Microsoft Windows* OS and MacOSX*, the codecs shipped with an OpenCV image (libjpeg, libpng, libtiff, and libjasper) are used by default. So, OpenCV can always read JPEGs, PNGs, and TIFFs. On MacOSX, there is also an option to use native MacOSX image readers. But beware that currently these native image loaders give images with different pixel values because of the color management embedded into MacOSX.</li>
<li>On Linux*, BSD flavors and other Unix-like open-source operating systems, OpenCV looks for codecs supplied with an OS image. Install the relevant packages (do not forget the development files, for example, &#8220;libjpeg-dev&#8221;, in Debian* and Ubuntu*) to get the codec support or turn on the <code class="docutils literal"><span class="pre">OPENCV_BUILD_3RDPARTY_LIBS</span></code> flag in CMake.</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the case of color images, the decoded images will have the channels stored in <code class="docutils literal"><span class="pre">B</span> <span class="pre">G</span> <span class="pre">R</span></code> order.</p>
</div>
</div>
<div class="section" id="imwrite">
<h2>imwrite<a class="headerlink" href="#imwrite" title="Permalink to this headline">¶</a></h2>
<p>Saves an image to a specified file.</p>
<dl class="function">
<dt id="bool imwrite(const string&amp; filename, InputArray img, const vector&lt;int&gt;&amp; params)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descname">imwrite</code><span class="sig-paren">(</span>const string&amp; <strong>filename</strong>, InputArray <strong>img</strong>, const vector&lt;int&gt;&amp; <strong>params</strong>=vector&lt;int&gt;() <span class="sig-paren">)</span><a class="headerlink" href="#bool imwrite(const string& filename, InputArray img, const vector<int>& params)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.imwrite">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">imwrite</code><span class="sig-paren">(</span>filename, img<span class="optional">[</span>, params<span class="optional">]</span><span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.imwrite" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="int cvSaveImage(const char* filename, const CvArr* image, const int* params)">
<strong>C:</strong><code class="descname"> </code>int <code class="descname">cvSaveImage</code><span class="sig-paren">(</span>const char* <strong>filename</strong>, const CvArr* <strong>image</strong>, const int* <strong>params</strong>=0 <span class="sig-paren">)</span><a class="headerlink" href="#int cvSaveImage(const char* filename, const CvArr* image, const int* params)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.SaveImage">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">SaveImage</code><span class="sig-paren">(</span>filename, image<span class="sig-paren">)</span> &rarr; None<a class="headerlink" href="#cv.SaveImage" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; Name of the file.</li>
<li><strong>image</strong> &#8211; Image to be saved.</li>
<li><strong>params</strong> &#8211; <p>Format-specific save parameters encoded as pairs  <code class="docutils literal"><span class="pre">paramId_1,</span> <span class="pre">paramValue_1,</span> <span class="pre">paramId_2,</span> <span class="pre">paramValue_2,</span> <span class="pre">...</span></code> . The following parameters are currently supported:</p>
<ul>
<li>For JPEG, it can be a quality ( <code class="docutils literal"><span class="pre">CV_IMWRITE_JPEG_QUALITY</span></code> ) from 0 to 100 (the higher is the better). Default value is 95.</li>
<li>For PNG, it can be the compression level ( <code class="docutils literal"><span class="pre">CV_IMWRITE_PNG_COMPRESSION</span></code> ) from 0 to 9. A higher value means a smaller size and longer compression time. Default value is 3.</li>
<li>For PPM, PGM, or PBM, it can be a binary format flag ( <code class="docutils literal"><span class="pre">CV_IMWRITE_PXM_BINARY</span></code> ), 0 or 1. Default value is 1.</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The function <code class="docutils literal"><span class="pre">imwrite</span></code> saves the image to the specified file. The image format is chosen based on the <code class="docutils literal"><span class="pre">filename</span></code> extension (see
<a class="reference internal" href="#Mat imread(const string&amp; filename, int flags)" title="Mat imread(const string&amp; filename, int flags)"><code class="xref ocv ocv-func docutils literal"><span class="pre">imread()</span></code></a> for the list of extensions). Only 8-bit (or 16-bit unsigned (<code class="docutils literal"><span class="pre">CV_16U</span></code>) in case of PNG, JPEG 2000, and TIFF) single-channel or 3-channel (with &#8216;BGR&#8217; channel order) images can be saved using this function. If the format, depth or channel order is different, use
<a class="reference internal" href="../../core/doc/basic_structures.html#void Mat::convertTo(OutputArray m, int rtype, double alpha, double beta) const" title="void Mat::convertTo(OutputArray m, int rtype, double alpha, double beta) const"><code class="xref ocv ocv-func docutils literal"><span class="pre">Mat::convertTo()</span></code></a> , and
<a class="reference internal" href="../../imgproc/doc/miscellaneous_transformations.html#void cvtColor(InputArray src, OutputArray dst, int code, int dstCn)" title="void cvtColor(InputArray src, OutputArray dst, int code, int dstCn)"><code class="xref ocv ocv-func docutils literal"><span class="pre">cvtColor()</span></code></a> to convert it before saving. Or, use the universal <a class="reference internal" href="../../core/doc/xml_yaml_persistence.html#FileStorage" title="class FileStorage"><code class="xref ocv ocv-class docutils literal"><span class="pre">FileStorage</span></code></a> I/O functions to save the image to XML or YAML format.</p>
<p>It is possible to store PNG images with an alpha channel using this function. To do this, create 8-bit (or 16-bit) 4-channel image BGRA, where the alpha channel goes last. Fully transparent pixels should have alpha set to 0, fully opaque pixels should have alpha set to 255/65535. The sample below shows how to create such a BGRA image and store to PNG file. It also demonstrates how to set custom compression parameters</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/opencv.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">cv</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">createAlphaMat</span><span class="p">(</span><span class="n">Mat</span> <span class="o">&amp;</span><span class="n">mat</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">CV_Assert</span><span class="p">(</span><span class="n">mat</span><span class="p">.</span><span class="n">channels</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">mat</span><span class="p">.</span><span class="n">rows</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">mat</span><span class="p">.</span><span class="n">cols</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Vec4b</span><span class="o">&amp;</span> <span class="n">bgra</span> <span class="o">=</span> <span class="n">mat</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="n">Vec4b</span><span class="o">&gt;</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
            <span class="n">bgra</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">UCHAR_MAX</span><span class="p">;</span> <span class="c1">// Blue</span>
            <span class="n">bgra</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">saturate_cast</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">((</span><span class="kt">float</span> <span class="p">(</span><span class="n">mat</span><span class="p">.</span><span class="n">cols</span> <span class="o">-</span> <span class="n">j</span><span class="p">))</span> <span class="o">/</span> <span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">mat</span><span class="p">.</span><span class="n">cols</span><span class="p">)</span> <span class="o">*</span> <span class="n">UCHAR_MAX</span><span class="p">);</span> <span class="c1">// Green</span>
            <span class="n">bgra</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">saturate_cast</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">((</span><span class="kt">float</span> <span class="p">(</span><span class="n">mat</span><span class="p">.</span><span class="n">rows</span> <span class="o">-</span> <span class="n">i</span><span class="p">))</span> <span class="o">/</span> <span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">mat</span><span class="p">.</span><span class="n">rows</span><span class="p">)</span> <span class="o">*</span> <span class="n">UCHAR_MAX</span><span class="p">);</span> <span class="c1">// Red</span>
            <span class="n">bgra</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">saturate_cast</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">bgra</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">bgra</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span> <span class="c1">// Alpha</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argv</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argc</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Create mat with alpha channel</span>
    <span class="n">Mat</span> <span class="n">mat</span><span class="p">(</span><span class="mi">480</span><span class="p">,</span> <span class="mi">640</span><span class="p">,</span> <span class="n">CV_8UC4</span><span class="p">);</span>
    <span class="n">createAlphaMat</span><span class="p">(</span><span class="n">mat</span><span class="p">);</span>

    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">compression_params</span><span class="p">;</span>
    <span class="n">compression_params</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">CV_IMWRITE_PNG_COMPRESSION</span><span class="p">);</span>
    <span class="n">compression_params</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="n">imwrite</span><span class="p">(</span><span class="s">&quot;alpha.png&quot;</span><span class="p">,</span> <span class="n">mat</span><span class="p">,</span> <span class="n">compression_params</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="n">runtime_error</span><span class="o">&amp;</span> <span class="n">ex</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Exception converting image to PNG format: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">ex</span><span class="p">.</span><span class="n">what</span><span class="p">());</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">&quot;Saved PNG file with alpha data.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="videocapture">
<h2>VideoCapture<a class="headerlink" href="#videocapture" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="VideoCapture">
<em class="property">class </em><code class="descname">VideoCapture</code><a class="headerlink" href="#VideoCapture" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Class for video capturing from video files, image sequences or cameras.
The class provides C++ API for capturing video from cameras or for reading video files and image sequences. Here is how the class can be used:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include</span> <span class="cpf">&quot;opencv2/opencv.hpp&quot;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">cv</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">VideoCapture</span> <span class="n">cap</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// open the default camera</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">cap</span><span class="p">.</span><span class="n">isOpened</span><span class="p">())</span>  <span class="c1">// check if we succeeded</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

    <span class="n">Mat</span> <span class="n">edges</span><span class="p">;</span>
    <span class="n">namedWindow</span><span class="p">(</span><span class="s">&quot;edges&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(;;)</span>
    <span class="p">{</span>
        <span class="n">Mat</span> <span class="n">frame</span><span class="p">;</span>
        <span class="n">cap</span> <span class="o">&gt;&gt;</span> <span class="n">frame</span><span class="p">;</span> <span class="c1">// get a new frame from camera</span>
        <span class="n">cvtColor</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="n">CV_BGR2GRAY</span><span class="p">);</span>
        <span class="n">GaussianBlur</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="n">Size</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">);</span>
        <span class="n">Canny</span><span class="p">(</span><span class="n">edges</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="n">imshow</span><span class="p">(</span><span class="s">&quot;edges&quot;</span><span class="p">,</span> <span class="n">edges</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// the camera will be deinitialized automatically in VideoCapture destructor</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In C API the black-box structure <code class="docutils literal"><span class="pre">CvCapture</span></code> is used instead of <code class="docutils literal"><span class="pre">VideoCapture</span></code>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>A basic sample on using the VideoCapture interface can be found at opencv_source_code/samples/cpp/starter_video.cpp</li>
<li>Another basic video processing sample can be found at opencv_source_code/samples/cpp/video_dmtx.cpp</li>
<li>(Python) A basic sample on using the VideoCapture interface can be found at opencv_source_code/samples/python2/video.py</li>
<li>(Python) Another basic video processing sample can be found at opencv_source_code/samples/python2/video_dmtx.py</li>
<li>(Python) A multi threaded video processing sample can be found at opencv_source_code/samples/python2/video_threaded.py</li>
</ul>
</div>
</div>
<div class="section" id="videocapture-videocapture">
<h2>VideoCapture::VideoCapture<a class="headerlink" href="#videocapture-videocapture" title="Permalink to this headline">¶</a></h2>
<p>VideoCapture constructors.</p>
<dl class="function">
<dt id="VideoCapture::VideoCapture()">
<strong>C++:</strong><code class="descname"> </code> <code class="descclassname">VideoCapture::</code><code class="descname">VideoCapture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#VideoCapture::VideoCapture()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="VideoCapture::VideoCapture(const string&amp; filename)">
<strong>C++:</strong><code class="descname"> </code> <code class="descclassname">VideoCapture::</code><code class="descname">VideoCapture</code><span class="sig-paren">(</span>const string&amp; <strong>filename</strong><span class="sig-paren">)</span><a class="headerlink" href="#VideoCapture::VideoCapture(const string& filename)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="VideoCapture::VideoCapture(int device)">
<strong>C++:</strong><code class="descname"> </code> <code class="descclassname">VideoCapture::</code><code class="descname">VideoCapture</code><span class="sig-paren">(</span>int <strong>device</strong><span class="sig-paren">)</span><a class="headerlink" href="#VideoCapture::VideoCapture(int device)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">VideoCapture</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; &lt;VideoCapture object&gt;<a class="headerlink" href="#cv2.VideoCapture" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt>
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">VideoCapture</code><span class="sig-paren">(</span>filename<span class="sig-paren">)</span> &rarr; &lt;VideoCapture object&gt;</dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt>
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">VideoCapture</code><span class="sig-paren">(</span>device<span class="sig-paren">)</span> &rarr; &lt;VideoCapture object&gt;</dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="CvCapture* cvCaptureFromCAM(int device)">
<strong>C:</strong><code class="descname"> </code>CvCapture* <code class="descname">cvCaptureFromCAM</code><span class="sig-paren">(</span>int <strong>device</strong><span class="sig-paren">)</span><a class="headerlink" href="#CvCapture* cvCaptureFromCAM(int device)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.CaptureFromCAM">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">CaptureFromCAM</code><span class="sig-paren">(</span>index<span class="sig-paren">)</span> &rarr; CvCapture<a class="headerlink" href="#cv.CaptureFromCAM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="CvCapture* cvCaptureFromFile(const char* filename)">
<strong>C:</strong><code class="descname"> </code>CvCapture* <code class="descname">cvCaptureFromFile</code><span class="sig-paren">(</span>const char* <strong>filename</strong><span class="sig-paren">)</span><a class="headerlink" href="#CvCapture* cvCaptureFromFile(const char* filename)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.CaptureFromFile">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">CaptureFromFile</code><span class="sig-paren">(</span>filename<span class="sig-paren">)</span> &rarr; CvCapture<a class="headerlink" href="#cv.CaptureFromFile" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; name of the opened video file (eg. video.avi) or image sequence (eg. img_%02d.jpg, which will read samples like img_00.jpg, img_01.jpg, img_02.jpg, ...)</li>
<li><strong>device</strong> &#8211; id of the opened video capturing device (i.e. a camera index). If there is a single camera connected, just pass 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In C API, when you finished working with video, release <code class="docutils literal"><span class="pre">CvCapture</span></code> structure with <code class="docutils literal"><span class="pre">cvReleaseCapture()</span></code>, or use <code class="docutils literal"><span class="pre">Ptr&lt;CvCapture&gt;</span></code> that calls <code class="docutils literal"><span class="pre">cvReleaseCapture()</span></code> automatically in the destructor.</p>
</div>
</div>
<div class="section" id="videocapture-open">
<h2>VideoCapture::open<a class="headerlink" href="#videocapture-open" title="Permalink to this headline">¶</a></h2>
<p>Open video file or a capturing device for video capturing</p>
<dl class="function">
<dt id="bool VideoCapture::open(const string&amp; filename)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoCapture::</code><code class="descname">open</code><span class="sig-paren">(</span>const string&amp; <strong>filename</strong><span class="sig-paren">)</span><a class="headerlink" href="#bool VideoCapture::open(const string& filename)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="bool VideoCapture::open(int device)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoCapture::</code><code class="descname">open</code><span class="sig-paren">(</span>int <strong>device</strong><span class="sig-paren">)</span><a class="headerlink" href="#bool VideoCapture::open(int device)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.open">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">open</code><span class="sig-paren">(</span>filename<span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.VideoCapture.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt>
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">open</code><span class="sig-paren">(</span>device<span class="sig-paren">)</span> &rarr; retval</dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; name of the opened video file (eg. video.avi) or image sequence (eg. img_%02d.jpg, which will read samples like img_00.jpg, img_01.jpg, img_02.jpg, ...)</li>
<li><strong>device</strong> &#8211; id of the opened video capturing device (i.e. a camera index).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The methods first call <a class="reference internal" href="#void VideoCapture::release()" title="void VideoCapture::release()"><code class="xref ocv ocv-func docutils literal"><span class="pre">VideoCapture::release()</span></code></a> to close the already opened file or camera.</p>
</div>
<div class="section" id="videocapture-isopened">
<h2>VideoCapture::isOpened<a class="headerlink" href="#videocapture-isopened" title="Permalink to this headline">¶</a></h2>
<p>Returns true if video capturing has been initialized already.</p>
<dl class="function">
<dt id="bool VideoCapture::isOpened()">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoCapture::</code><code class="descname">isOpened</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bool VideoCapture::isOpened()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.isOpened">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">isOpened</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.VideoCapture.isOpened" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If the previous call to <code class="docutils literal"><span class="pre">VideoCapture</span></code> constructor or <code class="docutils literal"><span class="pre">VideoCapture::open</span></code> succeeded, the method returns true.</p>
</div>
<div class="section" id="videocapture-release">
<h2>VideoCapture::release<a class="headerlink" href="#videocapture-release" title="Permalink to this headline">¶</a></h2>
<p>Closes video file or capturing device.</p>
<dl class="function">
<dt id="void VideoCapture::release()">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">VideoCapture::</code><code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#void VideoCapture::release()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.release">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; None<a class="headerlink" href="#cv2.VideoCapture.release" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="void cvReleaseCapture(CvCapture** capture)">
<strong>C:</strong><code class="descname"> </code>void <code class="descname">cvReleaseCapture</code><span class="sig-paren">(</span>CvCapture** <strong>capture</strong><span class="sig-paren">)</span><a class="headerlink" href="#void cvReleaseCapture(CvCapture** capture)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The methods are automatically called by subsequent <a class="reference internal" href="#bool VideoCapture::open(const string&amp; filename)" title="bool VideoCapture::open(const string&amp; filename)"><code class="xref ocv ocv-func docutils literal"><span class="pre">VideoCapture::open()</span></code></a> and by <code class="docutils literal"><span class="pre">VideoCapture</span></code> destructor.</p>
<p>The C function also deallocates memory and clears <code class="docutils literal"><span class="pre">*capture</span></code> pointer.</p>
</div>
<div class="section" id="videocapture-grab">
<h2>VideoCapture::grab<a class="headerlink" href="#videocapture-grab" title="Permalink to this headline">¶</a></h2>
<p>Grabs the next frame from video file or capturing device.</p>
<dl class="function">
<dt id="bool VideoCapture::grab()">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoCapture::</code><code class="descname">grab</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bool VideoCapture::grab()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.grab">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">grab</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.VideoCapture.grab" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="int cvGrabFrame(CvCapture* capture)">
<strong>C:</strong><code class="descname"> </code>int <code class="descname">cvGrabFrame</code><span class="sig-paren">(</span>CvCapture* <strong>capture</strong><span class="sig-paren">)</span><a class="headerlink" href="#int cvGrabFrame(CvCapture* capture)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.GrabFrame">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">GrabFrame</code><span class="sig-paren">(</span>capture<span class="sig-paren">)</span> &rarr; int<a class="headerlink" href="#cv.GrabFrame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The methods/functions grab the next frame from video file or camera and return true (non-zero) in the case of success.</p>
<p>The primary use of the function is in multi-camera environments, especially when the cameras do not have hardware synchronization. That is, you call <code class="docutils literal"><span class="pre">VideoCapture::grab()</span></code> for each camera and after that call the slower method <code class="docutils literal"><span class="pre">VideoCapture::retrieve()</span></code> to decode and get frame from each camera. This way the overhead on demosaicing or motion jpeg decompression etc. is eliminated and the retrieved frames from different cameras will be closer in time.</p>
<p>Also, when a connected camera is multi-head (for example, a stereo camera or a Kinect device), the correct way of retrieving data from it is to call <cite>VideoCapture::grab</cite> first and then call <a class="reference internal" href="#bool VideoCapture::retrieve(Mat&amp; image, int channel)" title="bool VideoCapture::retrieve(Mat&amp; image, int channel)"><code class="xref ocv ocv-func docutils literal"><span class="pre">VideoCapture::retrieve()</span></code></a> one or more times with different values of the <code class="docutils literal"><span class="pre">channel</span></code> parameter. See <a class="reference external" href="https://github.com/opencv/opencv/tree/master/samples/cpp/openni_capture.cpp">https://github.com/opencv/opencv/tree/master/samples/cpp/openni_capture.cpp</a></p>
</div>
<div class="section" id="videocapture-retrieve">
<h2>VideoCapture::retrieve<a class="headerlink" href="#videocapture-retrieve" title="Permalink to this headline">¶</a></h2>
<p>Decodes and returns the grabbed video frame.</p>
<dl class="function">
<dt id="bool VideoCapture::retrieve(Mat&amp; image, int channel)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoCapture::</code><code class="descname">retrieve</code><span class="sig-paren">(</span>Mat&amp; <strong>image</strong>, int <strong>channel</strong>=0<span class="sig-paren">)</span><a class="headerlink" href="#bool VideoCapture::retrieve(Mat& image, int channel)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.retrieve">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">retrieve</code><span class="sig-paren">(</span><span class="optional">[</span>image<span class="optional">[</span>, channel<span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &rarr; retval, image<a class="headerlink" href="#cv2.VideoCapture.retrieve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="IplImage* cvRetrieveFrame(CvCapture* capture, int streamIdx)">
<strong>C:</strong><code class="descname"> </code>IplImage* <code class="descname">cvRetrieveFrame</code><span class="sig-paren">(</span>CvCapture* <strong>capture</strong>, int <strong>streamIdx</strong>=0 <span class="sig-paren">)</span><a class="headerlink" href="#IplImage* cvRetrieveFrame(CvCapture* capture, int streamIdx)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.RetrieveFrame">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">RetrieveFrame</code><span class="sig-paren">(</span>capture<span class="optional">[</span>, index<span class="optional">]</span><span class="sig-paren">)</span> &rarr; image<a class="headerlink" href="#cv.RetrieveFrame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The methods/functions decode and return the just grabbed frame. If no frames has been grabbed (camera has been disconnected, or there are no more frames in video file), the methods return false and the functions return NULL pointer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">OpenCV 1.x functions <code class="docutils literal"><span class="pre">cvRetrieveFrame</span></code> and <code class="docutils literal"><span class="pre">cv.RetrieveFrame</span></code> return image stored inside the video capturing structure. It is not allowed to modify or release the image! You can copy the frame using <a class="reference internal" href="../../core/doc/old_basic_structures.html#IplImage* cvCloneImage(const IplImage* image)" title="IplImage* cvCloneImage(const IplImage* image)"><code class="xref ocv ocv-cfunc docutils literal"><span class="pre">cvCloneImage()</span></code></a> and then do whatever you want with the copy.</p>
</div>
</div>
<div class="section" id="videocapture-read">
<h2>VideoCapture::read<a class="headerlink" href="#videocapture-read" title="Permalink to this headline">¶</a></h2>
<p>Grabs, decodes and returns the next video frame.</p>
<dl class="function">
<dt id="VideoCapture&amp; VideoCapture::operator &gt;&gt; (Mat&amp; image)">
<strong>C++:</strong><code class="descname"> </code>VideoCapture&amp; <code class="descclassname">VideoCapture::</code><code class="descname">operator&gt;&gt;</code><span class="sig-paren">(</span>Mat&amp; <strong>image</strong><span class="sig-paren">)</span><a class="headerlink" href="#VideoCapture& VideoCapture::operator >> (Mat& image)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="bool VideoCapture::read(Mat&amp; image)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoCapture::</code><code class="descname">read</code><span class="sig-paren">(</span>Mat&amp; <strong>image</strong><span class="sig-paren">)</span><a class="headerlink" href="#bool VideoCapture::read(Mat& image)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.read">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">read</code><span class="sig-paren">(</span><span class="optional">[</span>image<span class="optional">]</span><span class="sig-paren">)</span> &rarr; retval, image<a class="headerlink" href="#cv2.VideoCapture.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="IplImage* cvQueryFrame(CvCapture* capture)">
<strong>C:</strong><code class="descname"> </code>IplImage* <code class="descname">cvQueryFrame</code><span class="sig-paren">(</span>CvCapture* <strong>capture</strong><span class="sig-paren">)</span><a class="headerlink" href="#IplImage* cvQueryFrame(CvCapture* capture)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.QueryFrame">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">QueryFrame</code><span class="sig-paren">(</span>capture<span class="sig-paren">)</span> &rarr; image<a class="headerlink" href="#cv.QueryFrame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The methods/functions combine <a class="reference internal" href="#bool VideoCapture::grab()" title="bool VideoCapture::grab()"><code class="xref ocv ocv-func docutils literal"><span class="pre">VideoCapture::grab()</span></code></a> and <a class="reference internal" href="#bool VideoCapture::retrieve(Mat&amp; image, int channel)" title="bool VideoCapture::retrieve(Mat&amp; image, int channel)"><code class="xref ocv ocv-func docutils literal"><span class="pre">VideoCapture::retrieve()</span></code></a> in one call. This is the most convenient method for reading video files or capturing data from decode and return the just grabbed frame. If no frames has been grabbed (camera has been disconnected, or there are no more frames in video file), the methods return false and the functions return NULL pointer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">OpenCV 1.x functions <code class="docutils literal"><span class="pre">cvRetrieveFrame</span></code> and <code class="docutils literal"><span class="pre">cv.RetrieveFrame</span></code> return image stored inside the video capturing structure. It is not allowed to modify or release the image! You can copy the frame using <a class="reference internal" href="../../core/doc/old_basic_structures.html#IplImage* cvCloneImage(const IplImage* image)" title="IplImage* cvCloneImage(const IplImage* image)"><code class="xref ocv ocv-cfunc docutils literal"><span class="pre">cvCloneImage()</span></code></a> and then do whatever you want with the copy.</p>
</div>
</div>
<div class="section" id="videocapture-get">
<h2>VideoCapture::get<a class="headerlink" href="#videocapture-get" title="Permalink to this headline">¶</a></h2>
<p>Returns the specified <code class="docutils literal"><span class="pre">VideoCapture</span></code> property</p>
<dl class="function">
<dt id="double VideoCapture::get(int propId)">
<strong>C++:</strong><code class="descname"> </code>double <code class="descclassname">VideoCapture::</code><code class="descname">get</code><span class="sig-paren">(</span>int <strong>propId</strong><span class="sig-paren">)</span><a class="headerlink" href="#double VideoCapture::get(int propId)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.get">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">get</code><span class="sig-paren">(</span>propId<span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.VideoCapture.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="double cvGetCaptureProperty(CvCapture* capture, int property_id)">
<strong>C:</strong><code class="descname"> </code>double <code class="descname">cvGetCaptureProperty</code><span class="sig-paren">(</span>CvCapture* <strong>capture</strong>, int <strong>property_id</strong><span class="sig-paren">)</span><a class="headerlink" href="#double cvGetCaptureProperty(CvCapture* capture, int property_id)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.GetCaptureProperty">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">GetCaptureProperty</code><span class="sig-paren">(</span>capture, property_id<span class="sig-paren">)</span> &rarr; float<a class="headerlink" href="#cv.GetCaptureProperty" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>propId</strong> &#8211; <p>Property identifier. It can be one of the following:</p>
<ul class="simple">
<li><strong>CV_CAP_PROP_POS_MSEC</strong> Current position of the video file in milliseconds or video capture timestamp.</li>
<li><strong>CV_CAP_PROP_POS_FRAMES</strong> 0-based index of the frame to be decoded/captured next.</li>
<li><strong>CV_CAP_PROP_POS_AVI_RATIO</strong> Relative position of the video file: 0 - start of the film, 1 - end of the film.</li>
<li><strong>CV_CAP_PROP_FRAME_WIDTH</strong> Width of the frames in the video stream.</li>
<li><strong>CV_CAP_PROP_FRAME_HEIGHT</strong> Height of the frames in the video stream.</li>
<li><strong>CV_CAP_PROP_FPS</strong> Frame rate.</li>
<li><strong>CV_CAP_PROP_FOURCC</strong> 4-character code of codec.</li>
<li><strong>CV_CAP_PROP_FRAME_COUNT</strong> Number of frames in the video file.</li>
<li><strong>CV_CAP_PROP_FORMAT</strong> Format of the Mat objects returned by <code class="docutils literal"><span class="pre">retrieve()</span></code> .</li>
<li><strong>CV_CAP_PROP_MODE</strong> Backend-specific value indicating the current capture mode.</li>
<li><strong>CV_CAP_PROP_BRIGHTNESS</strong> Brightness of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_CONTRAST</strong> Contrast of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_SATURATION</strong> Saturation of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_HUE</strong> Hue of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_GAIN</strong> Gain of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_EXPOSURE</strong> Exposure (only for cameras).</li>
<li><strong>CV_CAP_PROP_CONVERT_RGB</strong> Boolean flags indicating whether images should be converted to RGB.</li>
<li><strong>CV_CAP_PROP_WHITE_BALANCE_U</strong> The U value of the whitebalance setting (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_WHITE_BALANCE_V</strong> The V value of the whitebalance setting (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_RECTIFICATION</strong> Rectification flag for stereo cameras (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_ISO_SPEED</strong> The ISO speed of the camera (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_BUFFERSIZE</strong> Amount of frames stored in internal buffer memory (note: only supported by DC1394 v 2.x backend currently)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p><strong>Note</strong>: When querying a property that is not supported by the backend used by the <code class="docutils literal"><span class="pre">VideoCapture</span></code> class, value 0 is returned.</p>
</div>
<div class="section" id="videocapture-set">
<h2>VideoCapture::set<a class="headerlink" href="#videocapture-set" title="Permalink to this headline">¶</a></h2>
<p>Sets a property in the <code class="docutils literal"><span class="pre">VideoCapture</span></code>.</p>
<dl class="function">
<dt id="bool VideoCapture::set(int propId, double value)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoCapture::</code><code class="descname">set</code><span class="sig-paren">(</span>int <strong>propId</strong>, double <strong>value</strong><span class="sig-paren">)</span><a class="headerlink" href="#bool VideoCapture::set(int propId, double value)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoCapture.set">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoCapture.</code><code class="descname">set</code><span class="sig-paren">(</span>propId, value<span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.VideoCapture.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="int cvSetCaptureProperty(CvCapture* capture, int property_id, double value)">
<strong>C:</strong><code class="descname"> </code>int <code class="descname">cvSetCaptureProperty</code><span class="sig-paren">(</span>CvCapture* <strong>capture</strong>, int <strong>property_id</strong>, double <strong>value</strong><span class="sig-paren">)</span><a class="headerlink" href="#int cvSetCaptureProperty(CvCapture* capture, int property_id, double value)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.SetCaptureProperty">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">SetCaptureProperty</code><span class="sig-paren">(</span>capture, property_id, value<span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv.SetCaptureProperty" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>propId</strong> &#8211; <p>Property identifier. It can be one of the following:</p>
<ul>
<li><strong>CV_CAP_PROP_POS_MSEC</strong> Current position of the video file in milliseconds.</li>
<li><strong>CV_CAP_PROP_POS_FRAMES</strong> 0-based index of the frame to be decoded/captured next.</li>
<li><strong>CV_CAP_PROP_POS_AVI_RATIO</strong> Relative position of the video file: 0 - start of the film, 1 - end of the film.</li>
<li><strong>CV_CAP_PROP_FRAME_WIDTH</strong> Width of the frames in the video stream.</li>
<li><strong>CV_CAP_PROP_FRAME_HEIGHT</strong> Height of the frames in the video stream.</li>
<li><strong>CV_CAP_PROP_FPS</strong> Frame rate.</li>
<li><strong>CV_CAP_PROP_FOURCC</strong> 4-character code of codec.</li>
<li><strong>CV_CAP_PROP_FRAME_COUNT</strong> Number of frames in the video file.</li>
<li><strong>CV_CAP_PROP_FORMAT</strong> Format of the Mat objects returned by <code class="docutils literal"><span class="pre">retrieve()</span></code> .</li>
<li><strong>CV_CAP_PROP_MODE</strong> Backend-specific value indicating the current capture mode.</li>
<li><strong>CV_CAP_PROP_BRIGHTNESS</strong> Brightness of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_CONTRAST</strong> Contrast of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_SATURATION</strong> Saturation of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_HUE</strong> Hue of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_GAIN</strong> Gain of the image (only for cameras).</li>
<li><strong>CV_CAP_PROP_EXPOSURE</strong> Exposure (only for cameras).</li>
<li><strong>CV_CAP_PROP_CONVERT_RGB</strong> Boolean flags indicating whether images should be converted to RGB.</li>
<li><strong>CV_CAP_PROP_WHITE_BALANCE_U</strong> The U value of the whitebalance setting (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_WHITE_BALANCE_V</strong> The V value of the whitebalance setting (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_RECTIFICATION</strong> Rectification flag for stereo cameras (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_ISO_SPEED</strong> The ISO speed of the camera (note: only supported by DC1394 v 2.x backend currently)</li>
<li><strong>CV_CAP_PROP_BUFFERSIZE</strong> Amount of frames stored in internal buffer memory (note: only supported by DC1394 v 2.x backend currently)</li>
</ul>
</li>
<li><strong>value</strong> &#8211; Value of the property.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="videowriter">
<h2>VideoWriter<a class="headerlink" href="#videowriter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="VideoWriter">
<em class="property">class </em><code class="descname">VideoWriter</code><a class="headerlink" href="#VideoWriter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Video writer class.</p>
</div>
<div class="section" id="videowriter-videowriter">
<h2>VideoWriter::VideoWriter<a class="headerlink" href="#videowriter-videowriter" title="Permalink to this headline">¶</a></h2>
<p>VideoWriter constructors</p>
<dl class="function">
<dt id="VideoWriter::VideoWriter()">
<strong>C++:</strong><code class="descname"> </code> <code class="descclassname">VideoWriter::</code><code class="descname">VideoWriter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#VideoWriter::VideoWriter()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="VideoWriter::VideoWriter(const string&amp; filename, int fourcc, double fps, Size frameSize, bool isColor)">
<strong>C++:</strong><code class="descname"> </code> <code class="descclassname">VideoWriter::</code><code class="descname">VideoWriter</code><span class="sig-paren">(</span>const string&amp; <strong>filename</strong>, int <strong>fourcc</strong>, double <strong>fps</strong>, Size <strong>frameSize</strong>, bool <strong>isColor</strong>=true<span class="sig-paren">)</span><a class="headerlink" href="#VideoWriter::VideoWriter(const string& filename, int fourcc, double fps, Size frameSize, bool isColor)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoWriter">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.</code><code class="descname">VideoWriter</code><span class="sig-paren">(</span><span class="optional">[</span>filename, fourcc, fps, frameSize<span class="optional">[</span>, isColor<span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &rarr; &lt;VideoWriter object&gt;<a class="headerlink" href="#cv2.VideoWriter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="CvVideoWriter* cvCreateVideoWriter(const char* filename, int fourcc, double fps, CvSize frame_size, int is_color)">
<strong>C:</strong><code class="descname"> </code>CvVideoWriter* <code class="descname">cvCreateVideoWriter</code><span class="sig-paren">(</span>const char* <strong>filename</strong>, int <strong>fourcc</strong>, double <strong>fps</strong>, CvSize <strong>frame_size</strong>, int <strong>is_color</strong>=1 <span class="sig-paren">)</span><a class="headerlink" href="#CvVideoWriter* cvCreateVideoWriter(const char* filename, int fourcc, double fps, CvSize frame_size, int is_color)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.CreateVideoWriter">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">CreateVideoWriter</code><span class="sig-paren">(</span>filename, fourcc, fps, frame_size, is_color=true<span class="sig-paren">)</span> &rarr; CvVideoWriter<a class="headerlink" href="#cv.CreateVideoWriter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoWriter.isOpened">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoWriter.</code><code class="descname">isOpened</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.VideoWriter.isOpened" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoWriter.open">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoWriter.</code><code class="descname">open</code><span class="sig-paren">(</span>filename, fourcc, fps, frameSize<span class="optional">[</span>, isColor<span class="optional">]</span><span class="sig-paren">)</span> &rarr; retval<a class="headerlink" href="#cv2.VideoWriter.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt id="cv2.VideoWriter.write">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoWriter.</code><code class="descname">write</code><span class="sig-paren">(</span>image<span class="sig-paren">)</span> &rarr; None<a class="headerlink" href="#cv2.VideoWriter.write" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; Name of the output video file.</li>
<li><strong>fourcc</strong> &#8211; 4-character code of codec used to compress the frames. For example, <code class="docutils literal"><span class="pre">CV_FOURCC('P','I','M','1')</span></code>  is a MPEG-1 codec, <code class="docutils literal"><span class="pre">CV_FOURCC('M','J','P','G')</span></code>  is a motion-jpeg codec etc. List of codes can be obtained at <a class="reference external" href="http://www.fourcc.org/codecs.php">Video Codecs by FOURCC</a> page.</li>
<li><strong>fps</strong> &#8211; Framerate of the created video stream.</li>
<li><strong>frameSize</strong> &#8211; Size of the  video frames.</li>
<li><strong>isColor</strong> &#8211; If it is not zero, the encoder will expect and encode color frames, otherwise it will work with grayscale frames (the flag is currently supported on Windows only).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The constructors/functions initialize video writers. On Linux FFMPEG is used to write videos; on Windows FFMPEG or VFW is used; on MacOSX QTKit is used.</p>
</div>
<div class="section" id="releasevideowriter">
<h2>ReleaseVideoWriter<a class="headerlink" href="#releasevideowriter" title="Permalink to this headline">¶</a></h2>
<p>Releases the AVI writer.</p>
<dl class="cfunction">
<dt id="void cvReleaseVideoWriter(CvVideoWriter** writer)">
<strong>C:</strong><code class="descname"> </code>void <code class="descname">cvReleaseVideoWriter</code><span class="sig-paren">(</span>CvVideoWriter** <strong>writer</strong><span class="sig-paren">)</span><a class="headerlink" href="#void cvReleaseVideoWriter(CvVideoWriter** writer)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The function should be called after you finished using <code class="docutils literal"><span class="pre">CvVideoWriter</span></code> opened with <a class="reference internal" href="#CvVideoWriter* cvCreateVideoWriter(const char* filename, int fourcc, double fps, CvSize frame_size, int is_color)" title="CvVideoWriter* cvCreateVideoWriter(const char* filename, int fourcc, double fps, CvSize frame_size, int is_color)"><code class="xref ocv ocv-cfunc docutils literal"><span class="pre">CreateVideoWriter()</span></code></a>.</p>
</div>
<div class="section" id="videowriter-open">
<h2>VideoWriter::open<a class="headerlink" href="#videowriter-open" title="Permalink to this headline">¶</a></h2>
<p>Initializes or reinitializes video writer.</p>
<dl class="function">
<dt id="bool VideoWriter::open(const string&amp; filename, int fourcc, double fps, Size frameSize, bool isColor)">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoWriter::</code><code class="descname">open</code><span class="sig-paren">(</span>const string&amp; <strong>filename</strong>, int <strong>fourcc</strong>, double <strong>fps</strong>, Size <strong>frameSize</strong>, bool <strong>isColor</strong>=true<span class="sig-paren">)</span><a class="headerlink" href="#bool VideoWriter::open(const string& filename, int fourcc, double fps, Size frameSize, bool isColor)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt>
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoWriter.</code><code class="descname">open</code><span class="sig-paren">(</span>filename, fourcc, fps, frameSize<span class="optional">[</span>, isColor<span class="optional">]</span><span class="sig-paren">)</span> &rarr; retval</dt>
<dd></dd></dl>

<p>The method opens video writer. Parameters are the same as in the constructor <a class="reference internal" href="#VideoWriter::VideoWriter()" title="VideoWriter::VideoWriter()"><code class="xref ocv ocv-func docutils literal"><span class="pre">VideoWriter::VideoWriter()</span></code></a>.</p>
</div>
<div class="section" id="videowriter-isopened">
<h2>VideoWriter::isOpened<a class="headerlink" href="#videowriter-isopened" title="Permalink to this headline">¶</a></h2>
<p>Returns true if video writer has been successfully initialized.</p>
<dl class="function">
<dt id="bool VideoWriter::isOpened()">
<strong>C++:</strong><code class="descname"> </code>bool <code class="descclassname">VideoWriter::</code><code class="descname">isOpened</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bool VideoWriter::isOpened()" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt>
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoWriter.</code><code class="descname">isOpened</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; retval</dt>
<dd></dd></dl>

</div>
<div class="section" id="videowriter-write">
<h2>VideoWriter::write<a class="headerlink" href="#videowriter-write" title="Permalink to this headline">¶</a></h2>
<p>Writes the next video frame</p>
<dl class="function">
<dt id="VideoWriter&amp; VideoWriter::operator &lt;&lt; (const Mat&amp; image)">
<strong>C++:</strong><code class="descname"> </code>VideoWriter&amp; <code class="descclassname">VideoWriter::</code><code class="descname">operator&lt;&lt;</code><span class="sig-paren">(</span>const Mat&amp; <strong>image</strong><span class="sig-paren">)</span><a class="headerlink" href="#VideoWriter& VideoWriter::operator << (const Mat& image)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="void VideoWriter::write(const Mat&amp; image)">
<strong>C++:</strong><code class="descname"> </code>void <code class="descclassname">VideoWriter::</code><code class="descname">write</code><span class="sig-paren">(</span>const Mat&amp; <strong>image</strong><span class="sig-paren">)</span><a class="headerlink" href="#void VideoWriter::write(const Mat& image)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyfunction">
<dt>
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv2.VideoWriter.</code><code class="descname">write</code><span class="sig-paren">(</span>image<span class="sig-paren">)</span> &rarr; None</dt>
<dd></dd></dl>

<dl class="cfunction">
<dt id="int cvWriteFrame(CvVideoWriter* writer, const IplImage* image)">
<strong>C:</strong><code class="descname"> </code>int <code class="descname">cvWriteFrame</code><span class="sig-paren">(</span>CvVideoWriter* <strong>writer</strong>, const IplImage* <strong>image</strong><span class="sig-paren">)</span><a class="headerlink" href="#int cvWriteFrame(CvVideoWriter* writer, const IplImage* image)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="pyoldfunction">
<dt id="cv.WriteFrame">
<strong>Python:</strong><code class="descname"> </code><code class="descclassname">cv.</code><code class="descname">WriteFrame</code><span class="sig-paren">(</span>writer, image<span class="sig-paren">)</span> &rarr; int<a class="headerlink" href="#cv.WriteFrame" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>writer</strong> &#8211; Video writer structure (OpenCV 1.x API)</li>
<li><strong>image</strong> &#8211; The written frame</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The functions/methods write the specified image to video file. It must have the same size as has been specified when opening the video writer.</p>
</div>
</div>


          </div>
          <div class="feedback">
              <h2>Help and Feedback</h2>
              You did not find what you were looking for?
              <ul>
                  
                  
                  
                  <li>Ask a question on the <a href="http://answers.opencv.org">Q&A forum</a>.</li>
                  <li>If you think something is missing or wrong in the documentation,
                  please file a <a href="http://code.opencv.org">bug report</a>.</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/opencv-logo-white.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
      <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
      </p>
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reading and Writing Images and Video</a><ul>
<li><a class="reference internal" href="#imdecode">imdecode</a></li>
<li><a class="reference internal" href="#imencode">imencode</a></li>
<li><a class="reference internal" href="#imread">imread</a></li>
<li><a class="reference internal" href="#imwrite">imwrite</a></li>
<li><a class="reference internal" href="#videocapture">VideoCapture</a></li>
<li><a class="reference internal" href="#videocapture-videocapture">VideoCapture::VideoCapture</a></li>
<li><a class="reference internal" href="#videocapture-open">VideoCapture::open</a></li>
<li><a class="reference internal" href="#videocapture-isopened">VideoCapture::isOpened</a></li>
<li><a class="reference internal" href="#videocapture-release">VideoCapture::release</a></li>
<li><a class="reference internal" href="#videocapture-grab">VideoCapture::grab</a></li>
<li><a class="reference internal" href="#videocapture-retrieve">VideoCapture::retrieve</a></li>
<li><a class="reference internal" href="#videocapture-read">VideoCapture::read</a></li>
<li><a class="reference internal" href="#videocapture-get">VideoCapture::get</a></li>
<li><a class="reference internal" href="#videocapture-set">VideoCapture::set</a></li>
<li><a class="reference internal" href="#videowriter">VideoWriter</a></li>
<li><a class="reference internal" href="#videowriter-videowriter">VideoWriter::VideoWriter</a></li>
<li><a class="reference internal" href="#releasevideowriter">ReleaseVideoWriter</a></li>
<li><a class="reference internal" href="#videowriter-open">VideoWriter::open</a></li>
<li><a class="reference internal" href="#videowriter-isopened">VideoWriter::isOpened</a></li>
<li><a class="reference internal" href="#videowriter-write">VideoWriter::write</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="user_interface.html"
                        title="previous chapter">User Interface</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="qt_new_functions.html"
                        title="next chapter">Qt New Functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/modules/highgui/doc/reading_and_writing_images_and_video.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="qt_new_functions.html" title="Qt New Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="user_interface.html" title="User Interface"
             >previous</a> |</li>
        <li><a href="../../../index.html">OpenCV 2.4.13.7 documentation</a> &raquo;</li>
          <li><a href="../../refman.html" >OpenCV API Reference</a> &raquo;</li>
          <li><a href="highgui.html" >highgui. High-level GUI and Media I/O</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, opencv dev team.
      Last updated on Jul 12, 2018.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>